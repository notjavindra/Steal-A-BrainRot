local OrionLib = loadstring(game:HttpGet(('https://raw.githubusercontent.com/ionlyusegithubformcmods/1-Line-Scripts/main/Mobile%20Friendly%20Orion')))()
local Player = game.Players.LocalPlayer
local Mouse = Player:GetMouse()
local Players = game:GetService("Players")
local UIS = game:GetService("UserInputService")
local RunService = game:GetService("RunService")

local Window = OrionLib:MakeWindow({
    Name = "Steal A BrainRot",
    HidePremium = false,
    SaveConfig = true,
    ConfigFolder = "OrionTest",
    IntroText = "Loading Script..."
})

OrionLib:MakeNotification({
    Name = "Logged In!",
    Content = "Enjoy " .. Player.Name .. "!",
    Image = "rbxassetid://4483345998",
    Time = 5
})

-- ======= MAIN TAB =======
local MainTab = Window:MakeTab({
    Name = "Main",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})

local WalkSpeedValue = 16
local JumpPowerValue = 50
local AutoSpin = false

MainTab:AddTextbox({
    Name = "WalkSpeed",
    Default = "16",
    TextDisappear = true,
    Callback = function(Value)
        local number = tonumber(Value)
        if number then WalkSpeedValue = number end
    end  
})

MainTab:AddTextbox({
    Name = "JumpPower",
    Default = "50",
    TextDisappear = true,
    Callback = function(Value)
        local number = tonumber(Value)
        if number then JumpPowerValue = number end
    end  
})

MainTab:AddToggle({
    Name = "Auto Spin",
    Default = false,
    Callback = function(Value)
        AutoSpin = Value
        if AutoSpin then
            spawn(function()
                while AutoSpin do
                    local success, response = pcall(function()
                        return game.ReplicatedStorage.Remotes.Spin:InvokeServer()
                    end)
                    if not success then
                        OrionLib:MakeNotification({
                            Name = "Spin Failed",
                            Content = "Error: " .. tostring(response),
                            Image = "rbxassetid://4483345998",
                            Time = 3
                        })
                    end
                    task.wait(1)
                end
            end)
        end
    end
})

-- ======= PLAYER TAB =======
local PlayerTab = Window:MakeTab({
    Name = "Player",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})

local GravityScale = 1
local InfiniteJump = false
local NoClip = false

PlayerTab:AddTextbox({
    Name = "WalkSpeed",
    Default = "16",
    TextDisappear = true,
    Callback = function(Value)
        local number = tonumber(Value)
        if number then WalkSpeedValue = number end
    end
})

PlayerTab:AddTextbox({
    Name = "JumpPower",
    Default = "50",
    TextDisappear = true,
    Callback = function(Value)
        local number = tonumber(Value)
        if number then JumpPowerValue = number end
    end
})

PlayerTab:AddTextbox({
    Name = "Gravity Scale",
    Default = "1",
    TextDisappear = true,
    Callback = function(Value)
        local number = tonumber(Value)
        if number then GravityScale = number end
    end
})

PlayerTab:AddToggle({
    Name = "Infinite Jump",
    Default = false,
    Callback = function(Value)
        InfiniteJump = Value
    end
})

PlayerTab:AddToggle({
    Name = "No Clip",
    Default = false,
    Callback = function(Value)
        NoClip = Value
    end
})

-- Looped updates: Speed, Jump, Gravity
RunService.RenderStepped:Connect(function()
    if Player.Character and Player.Character:FindFirstChild("Humanoid") then
        local Humanoid = Player.Character.Humanoid
        Humanoid.WalkSpeed = WalkSpeedValue
        Humanoid.JumpPower = JumpPowerValue
        game.Workspace.Gravity = 196.2 * GravityScale
    end

    if NoClip and Player.Character then
        for _, v in pairs(Player.Character:GetDescendants()) do
            if v:IsA("BasePart") and v.CanCollide then
                v.CanCollide = false
            end
        end
    end
end)

-- Infinite Jump logic
UIS.JumpRequest:Connect(function()
    if InfiniteJump and Player.Character and Player.Character:FindFirstChild("Humanoid") then
        Player.Character:FindFirstChild("Humanoid"):ChangeState(Enum.HumanoidStateType.Jumping)
    end
end)

-- ======= COMBAT TAB =======
local CombatTab = Window:MakeTab({
    Name = "Combat",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})

local SlapRadius = 10
local AutoSlap = false

CombatTab:AddTextbox({
    Name = "Slap Radius",
    Default = "10",
    TextDisappear = true,
    Callback = function(Value)
        local number = tonumber(Value)
        if number then SlapRadius = number end
    end
})

CombatTab:AddToggle({
    Name = "Auto-Slap",
    Default = false,
    Callback = function(Value)
        AutoSlap = Value
    end
})

task.spawn(function()
    while true do
        if AutoSlap and Player.Character and Player.Character:FindFirstChild("HumanoidRootPart") then
            local myRoot = Player.Character.HumanoidRootPart
            for _, plr in pairs(Players:GetPlayers()) do
                if plr ~= Player and plr.Character and plr.Character:FindFirstChild("HumanoidRootPart") then
                    local theirRoot = plr.Character.HumanoidRootPart
                    local dist = (myRoot.Position - theirRoot.Position).Magnitude
                    if dist <= SlapRadius then
                        local tool = Player.Backpack:FindFirstChild("Tung Bat")
                        if tool then
                            Player.Character:FindFirstChildOfClass("Humanoid"):EquipTool(tool)
                            mouse1click()
                        end
                    end
                end
            end
        end
        task.wait(0.1)
    end
end)

-- ======= VISUAL TAB =======
local VisualTab = Window:MakeTab({
    Name = "Visual",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})
VisualTab:AddLabel("Visual features will be added here.")

-- ======= AUTO TAB =======
local AutoTab = Window:MakeTab({
    Name = "Auto",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})
AutoTab:AddLabel("Auto features will be added here.")

-- ======= MISC TAB =======
local MiscTab = Window:MakeTab({
    Name = "Misc",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})
MiscTab:AddLabel("Miscellaneous features will be added here.")

-- ======= SETTINGS TAB =======
local SettingsTab = Window:MakeTab({
    Name = "Settings",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})
SettingsTab:AddLabel("Settings will be added here.")

-- ======= CREDITS TAB =======
local CreditsTab = Window:MakeTab({
    Name = "Credits",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})
CreditsTab:AddLabel("Script created by Javindra.")
CreditsTab:AddLabel("Script idea by Crowned.")
CreditsTab:AddLabel("Powered by OrionLib.")

OrionLib:Init()
